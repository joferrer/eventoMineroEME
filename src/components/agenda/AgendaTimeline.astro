---
interface Evento {
    hora: string;
    titulo: string;
    descripcion: string;
}

const eventosDia1: Evento[] = [
    {
        hora: "8:30 AM",
        titulo: "Apertura del evento!",
        descripcion: "Recoge tu escarapela y kit de bienvenida!",
    },
    {
        hora: "9:00 AM",
        titulo: "Introducción a la Matriz Energética Nacional",
        descripcion:
            "Explora cómo se compone hoy la matriz energética de Colombia y hacia dónde debe evolucionar para responder a los retos del país.",
    },
    {
        hora: "9:40 AM",
        titulo: "El carbón en cifras (y desde las regiones)",
        descripcion:
            "Descubre cómo el carbón impulsa la economía, la energía y el desarrollo de las regiones en tiempos de transición energética.",
    },
    {
        hora: "10:20 AM",
        titulo: "El carbón: Generador de energía insustituible en Colombia",
        descripcion:
            "Explora el papel del carbón en la matriz energética nacional: su aporte a la seguridad, el abastecimiento y la reducción de la pobreza energética en Colombia.",
    },
    {
        hora: "11:00 AM",
        titulo: "Minería como posibilitador del crecimiento del PIB en Colombia (y desde las regiones)",
        descripcion:
            "Conoce cómo la minería regional impulsa empleo, inversión y crecimiento, y las condiciones que pueden potenciar su desarrollo en territorios como Norte de Santander.",
    },
    {
        hora: "11:20 AM",
        titulo: "El carbón más allá de la energía: El potencial del Grafeno",
        descripcion:
            "Descubre el nuevo rostro del carbón: innovación, ciencia y tecnología que transforman este recurso en valor agregado, abriendo mercados y oportunidades para un futuro más sostenible.",
    },
    {
        hora: "11:40 PM",
        titulo: "RECORRIDO POR EME 2025: Circuito de Networking y Experiencias",
        descripcion:
            "",
    },
    {
        hora: "2:30 PM",
        titulo: "Propuestas para la minería colombiana del presente y futuro",
        descripcion:
            "Escucha las propuestas de líderes nacionales sobre el futuro de la minería y la energía: seguridad, desarrollo, sostenibilidad y el rumbo que podría tomar el sector en el próximo gobierno.",
    },
    {
        hora: "3:30 PM",
        titulo: "Marco Jurídico para una matriz energética segura",
        descripcion:
            "Analiza cómo los nuevos proyectos de ley están transformando el marco minero y afectando la seguridad jurídica y energética del país en el contexto de la transición energética.",
    },
    {
        hora: "3:50 PM",
        titulo: "Abastecimiento y proyectos priorizados",
        descripcion:
            "",
    },
];

const eventosDia2: Evento[] = [
    {
        hora: "8:30 AM",
        titulo: "Desayuno de networking",
        descripcion:
            "Conecta con otros profesionales del sector mientras disfrutas de un desayuno.",
    },
    {
        hora: "9:00 AM",
        titulo: "Taller práctico: Innovaciones tecnológicas",
        descripcion:
            "Participa en un taller interactivo sobre las últimas tecnologías aplicadas a la minería y energía.",
    },
    {
        hora: "10:30 AM",
        titulo: "Cierre y conclusiones",
        descripcion: "Resumen de los puntos clave del evento y próximos pasos.",
    },
];
---

<div id="agenda-timeline">
    <div aria-selected="true" class:list={["hidden aria-selected:block"]}>
        <ol class="mt-5 relative border-s border-gray-200 dark:border-gray-700 max-h-96 overflow-y-auto">
            {
                eventosDia1.map((evento) => (
                    <li class="mb-5 ms-4">
                        <div class="absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -start-1.5 border border-white dark:border-gray-900 dark:bg-gray-700"></div>
                        <time class="mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500">
                            {evento.hora}
                        </time>
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                            {evento.titulo}
                        </h3>
                        <p class="mb-4 text-base font-normal text-gray-500 dark:text-gray-400">
                            {evento.descripcion}
                        </p>
                    </li>
                ))
            }
        </ol>
    </div>
    <div class:list={["hidden aria-selected:block"]}>
        <ol class="mt-5 relative border-s border-gray-200 dark:border-gray-700">
            {
                eventosDia2.map((evento) => (
                    <li class="mb-5 ms-4">
                        <div class="absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -start-1.5 border border-white dark:border-gray-900 dark:bg-gray-700"></div>
                        <time class="mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500">
                            {evento.hora}
                        </time>
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                            {evento.titulo}
                        </h3>
                        <p class="mb-4 text-base font-normal text-gray-500 dark:text-gray-400">
                            {evento.descripcion}
                        </p>
                    </li>
                ))
            }
        </ol>
    </div>
</div>

<script>
    const agendaTab = document.getElementById("agenda-tab");
    const agendaButtons = agendaTab?.querySelectorAll("button");
    const agendaTimeline = document.getElementById("agenda-timeline");
    const agendaTimelineItems = agendaTimeline?.querySelectorAll(":scope > div");
    console.log(agendaTimelineItems?.length);
    let fechaSeleccionada = 0;

    agendaButtons?.forEach((btn, index) => {
        btn.addEventListener("click", () => {
            fechaSeleccionada = index;

            // Actualizar la visibilidad de los items del timeline
            agendaTimelineItems?.forEach((item, itemIndex) => {
                if (itemIndex === fechaSeleccionada) {
                    item.setAttribute("aria-selected", "true");
                } else {
                    item.removeAttribute("aria-selected");
                }
            });
        });
    });
</script>
